<div class='small-4 columns' ng-controller="MailListingController">
    <h2>Sidebar</h2>
    <ul id="emailListing">
        <li ng-repeat="mail in email" ng-click="setSelectedMail(mail)">
            <div class='container emailListing' ng-class="{selected:isSelected(mail)}">
                <div class='small-8 columns'>{{ mail.from }}</div>
                <div class='small-12 columns'>{{ mail.subject }}</div>
            </div>
        </li>
        
    </ul>
</div>

<div class='small-8 columns' ng-controller="ContentController">
        <h2>Content</h2>
        <div ng-show="!selectedMail">
            <h1>ไม่มีการเลือกรายการ</h1>
        </div>
        
        <div ng-show="selectedMail">
            <form id="replyForm" ng-submit="sendEmailReply()" ng-show="showingReply">
                <div class='row'>
                    <div class='small-1 columns'>
                        <span class='prefix'>To</span>
                    </div>
                    <div class='small-11 columns'>
                        <input ng-modal="reply.to" type="email" placeholder="Email">
                    </div>  
                    <div class='small-12 columns'>
                        <textarea ng-model="reply.body">{{ reply.body }}</textarea>
                    </div>
                </div>
                
                <button class='button radius' ng-click="sendReply()">Send</button>
                <button class='button radius alert' ng-click="cancelReply()">Cancel</button>
                
            </form>
            <div class="row header">
                <div class='small-6 columns'>
                    {{ selectedMail.subject }}
                </div>
                <div class='small-6 columns'>
                    {{ selectedMail.sent_at }}
                </div>
            </div>
            <div class='row actions'>
                <div class='small-8 columns'>
                    {{ selectedMail.from }} TO {{ selectedMail.to }}
                </div>
                <a ng-click="showReply()" class="button radius push-1">Reply</a>
            </div>
            <div class='small-12 columns'>
                {{ selectedMail.body }}
            </div>
        </div>
</div>